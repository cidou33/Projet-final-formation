<!doctype html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="description" content="Page listant les différents articles dont les sujets concernent les concerts, informations sur les cours, événements spéciaux ou tout autre chose dans le domaine de la musique et de la batterie" />
    <link rel="stylesheet" href="{{ asset('assets/css/style.css') }}">
    <link rel="stylesheet" href="{{ asset('assets/css/base.css') }}">
    <title>Les News</title>
</head>
<body>
    {% include 'commons/header.html.twig' %}
    <main class="mainNews {% if is_granted('ROLE_ADMIN') %}adminMainHomePage{% else %}mainHomePage{% endif %}">
        {% block body %}
            <div class="bgTitleNews">
                <h1 class="titleNews textWhite">LES NEWS</h1>
            </div>
            <section class="sectionNews">
                <div class="secondaryTitleContainer">
                    <h2 class="secondaryTitle textBlack">Liste des articles</h2>
                    <p class="textWhite descNews">Ici vous trouverez des informations diverses à propos de l'évènementiel (concert, cours, découverte), me concernant ou concernant bien d'autres groupes ou écoles de Bordeaux et sa région.</p>
                </div>
            {% for new in news %}
                {%  if new.active == true %}
                <article>
                    <div>
                        <h3 class="textBlack">• {{ new.title }}</h3>
                        <span class="textWhite">Publié le {{ new.createDate|date('d-m-Y') }}</span>
                        <div class="imgNewsContainer">
                            <img src="{{ asset('assets/data/img/uploadNews/' ~ new.imgNews) }}" alt="{{ new.imgAlt }}">
                        </div>
                    </div>
                    <button class="buttonNews">DETAILS</button>
                    <p class="textNews statut-hide">{{ new.Content}}</p>
                    <p class="textNewsDesk changeHide">{{ new.Content}}</p>
                    <button class="buttonNewsClose statut-hide">FERMER</button>
                    {% if is_granted('ROLE_ADMIN') %}
                        <div class="adminButtonNews">
                            <a class="textWhite green" href="{{ path('modifyStatusNews', {'id':new.id}) }}">Désactiver</a>
                            <a class="textWhite orange" href="{{ path('updateNews', {'id':new.id}) }}">Modifier</a>
                            <a class="textWhite red" href="{{ path('deleteNews', {'id':new.id}) }}">Supprimer</a>
                        </div>
                    {% endif%}
                </article>
                {% endif %}
            {% endfor %}
            {% if is_granted('ROLE_ADMIN') %}
                <h2>Les news inactives</h2>
                {% for new in news %}
                    {%  if new.active == false %}
                        <article>
                            <div>
                                <h3 class="textBlack">• {{ new.title }}</h3>
                                <span class="textWhite">Publié le {{ new.createDate|date('d-m-Y') }}</span>
                                <div class="imgNewsContainer">
                                    <img src="{{ asset('assets/data/img/uploadNews/' ~ new.imgNews) }}" alt="{{ new.imgAlt }}">
                                </div>
                            </div>
                            <button class="buttonNews">DETAILS</button>
                            <p class="textNews statut-hide">{{ new.Content}}</p>
                            <p class="textNewsDesk changeHide">{{ new.Content}}</p>
                            <button class="buttonNewsClose statut-hide">FERMER</button>
                            {% if is_granted('ROLE_ADMIN') %}
                                <div class="adminButtonNews">
                                    <a class="textWhite green" href="{{ path('modifyStatusNews', {'id':new.id}) }}">Activer</a>
                                    <a class="textWhite orange" href="{{ path('updateNews', {'id':new.id}) }}">Modifier</a>
                                    <a class="textWhite red" href="{{ path('deleteNews', {'id':new.id}) }}">Supprimer</a>
                                </div>
                            {% endif%}
                        </article>
                    {% endif %}
                {% endfor %}
            {% endif %}
        </section>
        {% endblock %}
    </main>
{% include 'commons/footer.html.twig' %}
{% if is_granted('ROLE_ADMIN') %}
<script async src="{{ asset('assets/js/scriptAdmin.js') }}"></script>
{% endif %}
<script async src="{{ asset('assets/js/scriptUser.js') }}"></script>
</body>
</html>